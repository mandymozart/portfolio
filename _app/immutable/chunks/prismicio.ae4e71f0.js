import{w as Me}from"./index.4c3db10a.js";import{b as Te}from"./paths.cfd3549d.js";import"./index.53e7bf1c.js";import{a as Fe}from"./asLink.1bcab237.js";const _e=Me(!1),he=s=>`${Te}/logos/${s}`,c=(s,e)=>e?{dark:he(e),light:he(s)}:he(s),oe={AWS:c("aws.svg"),Bootstrap:c("bootstrap.svg"),C:c("c.svg"),Cpp:c("cpp.svg"),Celery:c("celery.svg"),Django:c("django.svg"),FastApi:c("fastapi"),Flask:c("flask.svg"),Go:c("go.svg"),Kafka:c("kafka.svg"),Neo4j:c("neo4j.svg"),Nginx:c("nginx.svg"),Numpy:c("numpy.svg"),Pandas:c("pandas.svg"),RabbitMQ:c("rabbitmq.svg"),Rust:c("rust.svg","rust-dark.png"),Scrapy:c("scrapy.png"),Selenium:c("selenium.svg"),Docker:c("docker.svg"),Kubernetes:c("kubernetees.svg"),Csharp:c("csharp.svg"),Xamarin:c("xamarin.svg"),TypeScript:c("ts.png"),VueJs:c("vue.png"),ReactJs:c("react.svg"),Dart:c("dart.png"),Kotlin:c("kotlin.png"),Python:c("python.png"),NodeJs:c("node.png"),Deno:c("deno.png","deno-dark.png"),Svelte:c("svelte.png"),ExpressJs:c("express.png"),JavaScript:c("js.png"),Fastify:c("fastify.svg","fastify-dark.png"),NestJs:c("nest.svg"),Quasar:c("quasar.svg"),SolidJs:c("solid.svg"),Electron:c("electron.png"),Flutter:c("flutter.svg"),Java:c("java.png"),AdonisJs:c("adonis.png"),Android:c("android.png"),Angular:c("angular.png"),PostgreSQL:c("postgres.png"),Firebase:c("firebase.png"),Sass:c("sass.png"),Unknown:c("no-img.svg"),MongoDB:c("mongodb.svg"),Redis:c("redis.svg"),Tailwind:c("tailwind.svg"),HTML:c("html.svg"),Premiere:c("premiere.svg"),Photoshop:c("photoshop.svg"),CSS:c("css.svg"),AfterEffects:c("after-effects.svg"),Illustrator:c("illustrator.svg"),Nuxt:c("nuxt.png"),Vite:c("vite.png"),Vitest:c("vitest.svg"),Jest:c("jest.png"),Unocss:c("unocss.svg"),Ruvy:c("ruvy.svg"),Postcss:c("postcss.svg")};_e.subscribe(s=>s);var te=(s=>(s.GitHub="github",s.StackOverflow="stackoverflow",s.Twitter="twitter",s.Linkedin="linkedin",s.Email="email",s.Facebook="facebook",s.Youtube="youtube",s.Website="website",s))(te||{}),se=(s=>(s.FullTime="Full-time",s.PartTime="Part-time",s.SelfEmployed="Self-employed",s.Freelance="Freelance",s.Contract="Contract",s.Internship="Internship",s))(se||{});se.SelfEmployed,new Date,oe.Unknown,se.Freelance,new Date,oe.Unknown,se.Freelance,new Date(2014,0,1),new Date(2014,0,1),oe.Unknown,se.FullTime,new Date(2012,3,1),new Date(2023,1,1),oe.Unknown;var Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge={},Ae={get exports(){return ge},set exports(s){ge=s}};(function(s,e){(function(t,n){s.exports=n()})(Se,function(){var t=1e3,n=6e4,d=36e5,y="millisecond",g="second",m="minute",D="hour",p="day",A="week",T="month",q="quarter",I="year",L="date",J="Invalid Date",ne=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ue={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(u){var o=["th","st","nd","rd"],r=u%100;return"["+u+(o[(r-20)%10]||o[r]||o[0])+"]"}},B=function(u,o,r){var h=String(u);return!h||h.length>=o?u:""+Array(o+1-h.length).join(r)+u},re={s:B,z:function(u){var o=-u.utcOffset(),r=Math.abs(o),h=Math.floor(r/60),i=r%60;return(o<=0?"+":"-")+B(h,2,"0")+":"+B(i,2,"0")},m:function u(o,r){if(o.date()<r.date())return-u(r,o);var h=12*(r.year()-o.year())+(r.month()-o.month()),i=o.clone().add(h,T),v=r-i<0,w=o.clone().add(h+(v?-1:1),T);return+(-(h+(r-i)/(v?i-w:w-i))||0)},a:function(u){return u<0?Math.ceil(u)||0:Math.floor(u)},p:function(u){return{M:T,y:I,w:A,d:p,D:L,h:D,m,s:g,ms:y,Q:q}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(u){return u===void 0}},z="en",b={};b[z]=ue;var f="$isDayjsObject",a=function(u){return u instanceof F||!(!u||!u[f])},R=function u(o,r,h){var i;if(!o)return z;if(typeof o=="string"){var v=o.toLowerCase();b[v]&&(i=v),r&&(b[v]=r,i=v);var w=o.split("-");if(!i&&w.length>1)return u(w[0])}else{var k=o.name;b[k]=o,i=k}return!h&&i&&(z=i),i||!h&&z},$=function(u,o){if(a(u))return u.clone();var r=typeof o=="object"?o:{};return r.date=u,r.args=arguments,new F(r)},l=re;l.l=R,l.i=a,l.w=function(u,o){return $(u,{locale:o.$L,utc:o.$u,x:o.$x,$offset:o.$offset})};var F=function(){function u(r){this.$L=R(r.locale,null,!0),this.parse(r),this.$x=this.$x||r.x||{},this[f]=!0}var o=u.prototype;return o.parse=function(r){this.$d=function(h){var i=h.date,v=h.utc;if(i===null)return new Date(NaN);if(l.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var w=i.match(ne);if(w){var k=w[2]-1||0,M=(w[7]||"0").substring(0,3);return v?new Date(Date.UTC(w[1],k,w[3]||1,w[4]||0,w[5]||0,w[6]||0,M)):new Date(w[1],k,w[3]||1,w[4]||0,w[5]||0,w[6]||0,M)}}return new Date(i)}(r),this.init()},o.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},o.$utils=function(){return l},o.isValid=function(){return this.$d.toString()!==J},o.isSame=function(r,h){var i=$(r);return this.startOf(h)<=i&&i<=this.endOf(h)},o.isAfter=function(r,h){return $(r)<this.startOf(h)},o.isBefore=function(r,h){return this.endOf(h)<$(r)},o.$g=function(r,h,i){return l.u(r)?this[h]:this.set(i,r)},o.unix=function(){return Math.floor(this.valueOf()/1e3)},o.valueOf=function(){return this.$d.getTime()},o.startOf=function(r,h){var i=this,v=!!l.u(h)||h,w=l.p(r),k=function(V,x){var W=l.w(i.$u?Date.UTC(i.$y,x,V):new Date(i.$y,x,V),i);return v?W:W.endOf(p)},M=function(V,x){return l.w(i.toDate()[V].apply(i.toDate("s"),(v?[0,0,0,0]:[23,59,59,999]).slice(x)),i)},_=this.$W,O=this.$M,E=this.$D,Z="set"+(this.$u?"UTC":"");switch(w){case I:return v?k(1,0):k(31,11);case T:return v?k(1,O):k(0,O+1);case A:var Q=this.$locale().weekStart||0,K=(_<Q?_+7:_)-Q;return k(v?E-K:E+(6-K),O);case p:case L:return M(Z+"Hours",0);case D:return M(Z+"Minutes",1);case m:return M(Z+"Seconds",2);case g:return M(Z+"Milliseconds",3);default:return this.clone()}},o.endOf=function(r){return this.startOf(r,!1)},o.$set=function(r,h){var i,v=l.p(r),w="set"+(this.$u?"UTC":""),k=(i={},i[p]=w+"Date",i[L]=w+"Date",i[T]=w+"Month",i[I]=w+"FullYear",i[D]=w+"Hours",i[m]=w+"Minutes",i[g]=w+"Seconds",i[y]=w+"Milliseconds",i)[v],M=v===p?this.$D+(h-this.$W):h;if(v===T||v===I){var _=this.clone().set(L,1);_.$d[k](M),_.init(),this.$d=_.set(L,Math.min(this.$D,_.daysInMonth())).$d}else k&&this.$d[k](M);return this.init(),this},o.set=function(r,h){return this.clone().$set(r,h)},o.get=function(r){return this[l.p(r)]()},o.add=function(r,h){var i,v=this;r=Number(r);var w=l.p(h),k=function(O){var E=$(v);return l.w(E.date(E.date()+Math.round(O*r)),v)};if(w===T)return this.set(T,this.$M+r);if(w===I)return this.set(I,this.$y+r);if(w===p)return k(1);if(w===A)return k(7);var M=(i={},i[m]=n,i[D]=d,i[g]=t,i)[w]||1,_=this.$d.getTime()+r*M;return l.w(_,this)},o.subtract=function(r,h){return this.add(-1*r,h)},o.format=function(r){var h=this,i=this.$locale();if(!this.isValid())return i.invalidDate||J;var v=r||"YYYY-MM-DDTHH:mm:ssZ",w=l.z(this),k=this.$H,M=this.$m,_=this.$M,O=i.weekdays,E=i.months,Z=i.meridiem,Q=function(x,W,ee,ie){return x&&(x[W]||x(h,v))||ee[W].slice(0,ie)},K=function(x){return l.s(k%12||12,x,"0")},V=Z||function(x,W,ee){var ie=x<12?"AM":"PM";return ee?ie.toLowerCase():ie};return v.replace(N,function(x,W){return W||function(ee){switch(ee){case"YY":return String(h.$y).slice(-2);case"YYYY":return l.s(h.$y,4,"0");case"M":return _+1;case"MM":return l.s(_+1,2,"0");case"MMM":return Q(i.monthsShort,_,E,3);case"MMMM":return Q(E,_);case"D":return h.$D;case"DD":return l.s(h.$D,2,"0");case"d":return String(h.$W);case"dd":return Q(i.weekdaysMin,h.$W,O,2);case"ddd":return Q(i.weekdaysShort,h.$W,O,3);case"dddd":return O[h.$W];case"H":return String(k);case"HH":return l.s(k,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return V(k,M,!0);case"A":return V(k,M,!1);case"m":return String(M);case"mm":return l.s(M,2,"0");case"s":return String(h.$s);case"ss":return l.s(h.$s,2,"0");case"SSS":return l.s(h.$ms,3,"0");case"Z":return w}return null}(x)||w.replace(":","")})},o.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},o.diff=function(r,h,i){var v,w=this,k=l.p(h),M=$(r),_=(M.utcOffset()-this.utcOffset())*n,O=this-M,E=function(){return l.m(w,M)};switch(k){case I:v=E()/12;break;case T:v=E();break;case q:v=E()/3;break;case A:v=(O-_)/6048e5;break;case p:v=(O-_)/864e5;break;case D:v=O/d;break;case m:v=O/n;break;case g:v=O/t;break;default:v=O}return i?v:l.a(v)},o.daysInMonth=function(){return this.endOf(T).$D},o.$locale=function(){return b[this.$L]},o.locale=function(r,h){if(!r)return this.$L;var i=this.clone(),v=R(r,h,!0);return v&&(i.$L=v),i},o.clone=function(){return l.w(this.$d,this)},o.toDate=function(){return new Date(this.valueOf())},o.toJSON=function(){return this.isValid()?this.toISOString():null},o.toISOString=function(){return this.$d.toISOString()},o.toString=function(){return this.$d.toUTCString()},u}(),P=F.prototype;return $.prototype=P,[["$ms",y],["$s",g],["$m",m],["$H",D],["$W",p],["$M",T],["$y",I],["$D",L]].forEach(function(u){P[u[1]]=function(o){return this.$g(o,u[0],u[1])}}),$.extend=function(u,o){return u.$i||(u(o,F,$),u.$i=!0),$},$.locale=R,$.isDayjs=a,$.unix=function(u){return $(1e3*u)},$.en=b[z],$.Ls=b,$.p={},$})})(Ae);const Pe=ge;var pe={},Oe={get exports(){return pe},set exports(s){pe=s}};(function(s,e){(function(t,n){s.exports=n()})(Se,function(){var t,n,d=1e3,y=6e4,g=36e5,m=864e5,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p=31536e6,A=2628e6,T=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,q={years:p,months:A,days:m,hours:g,minutes:y,seconds:d,milliseconds:1,weeks:6048e5},I=function(b){return b instanceof re},L=function(b,f,a){return new re(b,a,f.$l)},J=function(b){return n.p(b)+"s"},ne=function(b){return b<0},N=function(b){return ne(b)?Math.ceil(b):Math.floor(b)},ue=function(b){return Math.abs(b)},B=function(b,f){return b?ne(b)?{negative:!0,format:""+ue(b)+f}:{negative:!1,format:""+b+f}:{negative:!1,format:""}},re=function(){function b(a,R,$){var l=this;if(this.$d={},this.$l=$,a===void 0&&(this.$ms=0,this.parseFromMilliseconds()),R)return L(a*q[J(R)],this);if(typeof a=="number")return this.$ms=a,this.parseFromMilliseconds(),this;if(typeof a=="object")return Object.keys(a).forEach(function(u){l.$d[J(u)]=a[u]}),this.calMilliseconds(),this;if(typeof a=="string"){var F=a.match(T);if(F){var P=F.slice(2).map(function(u){return u!=null?Number(u):0});return this.$d.years=P[0],this.$d.months=P[1],this.$d.weeks=P[2],this.$d.days=P[3],this.$d.hours=P[4],this.$d.minutes=P[5],this.$d.seconds=P[6],this.calMilliseconds(),this}}return this}var f=b.prototype;return f.calMilliseconds=function(){var a=this;this.$ms=Object.keys(this.$d).reduce(function(R,$){return R+(a.$d[$]||0)*q[$]},0)},f.parseFromMilliseconds=function(){var a=this.$ms;this.$d.years=N(a/p),a%=p,this.$d.months=N(a/A),a%=A,this.$d.days=N(a/m),a%=m,this.$d.hours=N(a/g),a%=g,this.$d.minutes=N(a/y),a%=y,this.$d.seconds=N(a/d),a%=d,this.$d.milliseconds=a},f.toISOString=function(){var a=B(this.$d.years,"Y"),R=B(this.$d.months,"M"),$=+this.$d.days||0;this.$d.weeks&&($+=7*this.$d.weeks);var l=B($,"D"),F=B(this.$d.hours,"H"),P=B(this.$d.minutes,"M"),u=this.$d.seconds||0;this.$d.milliseconds&&(u+=this.$d.milliseconds/1e3,u=Math.round(1e3*u)/1e3);var o=B(u,"S"),r=a.negative||R.negative||l.negative||F.negative||P.negative||o.negative,h=F.format||P.format||o.format?"T":"",i=(r?"-":"")+"P"+a.format+R.format+l.format+h+F.format+P.format+o.format;return i==="P"||i==="-P"?"P0D":i},f.toJSON=function(){return this.toISOString()},f.format=function(a){var R=a||"YYYY-MM-DDTHH:mm:ss",$={Y:this.$d.years,YY:n.s(this.$d.years,2,"0"),YYYY:n.s(this.$d.years,4,"0"),M:this.$d.months,MM:n.s(this.$d.months,2,"0"),D:this.$d.days,DD:n.s(this.$d.days,2,"0"),H:this.$d.hours,HH:n.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:n.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:n.s(this.$d.seconds,2,"0"),SSS:n.s(this.$d.milliseconds,3,"0")};return R.replace(D,function(l,F){return F||String($[l])})},f.as=function(a){return this.$ms/q[J(a)]},f.get=function(a){var R=this.$ms,$=J(a);return $==="milliseconds"?R%=1e3:R=$==="weeks"?N(R/q[$]):this.$d[$],R||0},f.add=function(a,R,$){var l;return l=R?a*q[J(R)]:I(a)?a.$ms:L(a,this).$ms,L(this.$ms+l*($?-1:1),this)},f.subtract=function(a,R){return this.add(a,R,!0)},f.locale=function(a){var R=this.clone();return R.$l=a,R},f.clone=function(){return L(this.$ms,this)},f.humanize=function(a){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!a)},f.valueOf=function(){return this.asMilliseconds()},f.milliseconds=function(){return this.get("milliseconds")},f.asMilliseconds=function(){return this.as("milliseconds")},f.seconds=function(){return this.get("seconds")},f.asSeconds=function(){return this.as("seconds")},f.minutes=function(){return this.get("minutes")},f.asMinutes=function(){return this.as("minutes")},f.hours=function(){return this.get("hours")},f.asHours=function(){return this.as("hours")},f.days=function(){return this.get("days")},f.asDays=function(){return this.as("days")},f.weeks=function(){return this.get("weeks")},f.asWeeks=function(){return this.as("weeks")},f.months=function(){return this.get("months")},f.asMonths=function(){return this.as("months")},f.years=function(){return this.get("years")},f.asYears=function(){return this.as("years")},b}(),z=function(b,f,a){return b.add(f.years()*a,"y").add(f.months()*a,"M").add(f.days()*a,"d").add(f.hours()*a,"h").add(f.minutes()*a,"m").add(f.seconds()*a,"s").add(f.milliseconds()*a,"ms")};return function(b,f,a){t=a,n=a().$utils(),a.duration=function(l,F){var P=a.locale();return L(l,{$l:P},F)},a.isDuration=I;var R=f.prototype.add,$=f.prototype.subtract;f.prototype.add=function(l,F){return I(l)?z(this,l,1):R.bind(this)(l,F)},f.prototype.subtract=function(l,F){return I(l)?z(this,l,-1):$.bind(this)(l,F)}}})})(Oe);const Ie=pe;Pe.extend(Ie);const yt=(s,e)=>`${s} | ${e}`,vt="Tilman Porsch√ºtz <Frontend Developer>",fe={home:"tilman@porschuetz.de",personal:"Projects",career:"Experiences",resume:"Resume"},wt=[{title:fe.personal,route:"/projects"},{title:fe.career,route:"/experience"},{title:fe.resume,route:"/resume"}];te.GitHub,te.Linkedin,te.Email,te.Website;const ke=s=>Array.isArray(s)?`[${s.map(ke).join(", ")}]`:typeof s=="string"?`"${s}"`:s instanceof Date?`${s.getTime()}`:`${s}`,S=s=>(t,...n)=>{const d=n.map(ke).join(", "),y=t&&n.length?", ":"";return`[${s}(${t}${y}${d})]`},ve=s=>{const e=S(s);return n=>e(n)},je=s=>{const e=S(s);return(...n)=>e("",...n)},U={at:S("at"),not:S("not"),any:S("any"),in:S("in"),fulltext:S("fulltext"),has:ve("has"),missing:ve("missing"),similar:je("similar"),geopointNear:S("geopoint.near"),numberLessThan:S("number.lt"),numberGreaterThan:S("number.gt"),numberInRange:S("number.inRange"),dateAfter:S("date.after"),dateBefore:S("date.before"),dateBetween:S("date.between"),dateDayOfMonth:S("date.day-of-month"),dateDayOfMonthAfter:S("date.day-of-month-after"),dateDayOfMonthBefore:S("date.day-of-month-before"),dateDayOfWeek:S("date.day-of-week"),dateDayOfWeekAfter:S("date.day-of-week-after"),dateDayOfWeekBefore:S("date.day-of-week-before"),dateMonth:S("date.month"),dateMonthAfter:S("date.month-after"),dateMonthBefore:S("date.month-before"),dateYear:S("date.year"),dateHour:S("date.hour"),dateHourAfter:S("date.hour-after"),dateHourBefore:S("date.hour-before")},G=s=>Array.isArray(s)?s:[s],j=(s={},e)=>({...s,filters:[...s.filters||[],...G(e)]}),Le=s=>typeof s=="function"?s:()=>s,we=s=>U.at("document.tags",G(s));var xe=Object.defineProperty,Ee=(s,e,t)=>e in s?xe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,$e=(s,e,t)=>(Ee(s,typeof e!="symbol"?e+"":e,t),t);class Y extends Error{constructor(e="An invalid API response was returned",t,n){super(e),$e(this,"url"),$e(this,"response"),this.url=t,this.response=n}}const ye=(s,e)=>{const t=s.find(n=>e(n));if(!t)throw new Y("Ref could not be found.",void 0,void 0);return t},be=s=>ye(s,e=>e.isMasterRef),le=(s,e)=>ye(s,t=>t.id===e),de=(s,e)=>ye(s,t=>t.label===e),De="io.prismic.preview",Re=s=>s.replace(/%3B/g,";"),Ce=s=>{const e=s.split("; ");let t;for(const n of e){const d=n.split("=");if(Re(d[0]).replace(/%3D/g,"=")===De){t=Re(d.slice(1).join("="));break}}return t},qe=s=>s.replace(/(\n| )*( |{|})(\n| )*/gm,(e,t,n)=>n),ae=s=>U.any("document.tags",G(s)),X=s=>U.at("document.type",s);class ce extends Y{}class me extends Y{}class Be extends Y{}class He extends ce{}class Ne extends ce{}class Ue extends ce{}class Ye extends me{}const Je={accessToken:"access_token"},ze=s=>typeof s=="string"?s:s.direction==="desc"?`${s.field} desc`:s.field,We=(s,e)=>{const{filters:t,predicates:n,...d}=e,y=new URL("documents/search",`${s}/`);if(t)for(const g of G(t))y.searchParams.append("q",`[${g}]`);if(n)for(const g of G(n))y.searchParams.append("q",`[${g}]`);for(const g in d){const m=Je[g]||g;let D=d[g];if(m==="orderings"){const p=d[m];p!=null&&(D=`[${G(p).map(T=>ze(T)).join(",")}]`)}else m==="routes"&&typeof d[m]=="object"&&(D=JSON.stringify(G(d[m])));D!=null&&y.searchParams.set(m,G(D).join(","))}return y.toString()},Ge=s=>/^[a-zA-Z0-9][-a-zA-Z0-9]{2,}[a-zA-Z0-9]$/.test(s),Qe=s=>{if(Ge(s))return`https://${s}.cdn.prismic.io/api/v2`;throw new Y(`An invalid Prismic repository name was given: ${s}`,void 0,void 0)},Ve=s=>{try{return new URL(s),!0}catch{return!1}};var Ze=Object.defineProperty,Xe=(s,e,t)=>e in s?Ze(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,C=(s,e,t)=>(Xe(s,typeof e!="symbol"?e+"":e,t),t);const Ke=100,et=5e3,tt=500,st=1e3;var H;(function(s){s.Master="Master",s.ReleaseID="ReleaseID",s.ReleaseLabel="ReleaseLabel",s.Manual="Manual"})(H||(H={}));const nt=(s,e)=>new rt(s,e);class rt{constructor(e,t={}){if(C(this,"endpoint"),C(this,"accessToken"),C(this,"routes"),C(this,"brokenRoute"),C(this,"fetchFn"),C(this,"fetchOptions"),C(this,"defaultParams"),C(this,"refState",{mode:H.Master,autoPreviewsEnabled:!0}),C(this,"cachedRepository"),C(this,"cachedRepositoryExpiration",0),C(this,"fetchJobs",{}),Ve(e)?this.endpoint=e:this.endpoint=Qe(e),this.accessToken=t.accessToken,this.routes=t.routes,this.brokenRoute=t.brokenRoute,this.fetchOptions=t.fetchOptions,this.defaultParams=t.defaultParams,t.ref&&this.queryContentFromRef(t.ref),typeof t.fetch=="function")this.fetchFn=t.fetch;else if(typeof globalThis.fetch=="function")this.fetchFn=globalThis.fetch;else throw new Y("A valid fetch implementation was not provided. In environments where fetch is not available (including Node.js), a fetch implementation must be provided via a polyfill or the `fetch` option.",void 0,void 0);this.fetchFn===globalThis.fetch&&(this.fetchFn=this.fetchFn.bind(globalThis)),this.graphQLFetch=this.graphQLFetch.bind(this)}enableAutoPreviews(){this.refState.autoPreviewsEnabled=!0}enableAutoPreviewsFromReq(e){this.refState.httpRequest=e,this.refState.autoPreviewsEnabled=!0}disableAutoPreviews(){this.refState.autoPreviewsEnabled=!1}async get(e){const t=await this.buildQueryURL(e);return await this.fetch(t,e)}async getFirst(e){var t;const n={...e};!(e&&e.page)&&!(e!=null&&e.pageSize)&&(n.pageSize=((t=this.defaultParams)==null?void 0:t.pageSize)??1);const d=await this.buildQueryURL(n),g=(await this.fetch(d,e)).results[0];if(g)return g;throw new me("No documents were returned",d,void 0)}async dangerouslyGetAll(e={}){var t;const{limit:n=1/0,...d}=e,y={...d,pageSize:Math.min(n,d.pageSize||((t=this.defaultParams)==null?void 0:t.pageSize)||Ke)},g=[];let m;for(;(!m||m.next_page)&&g.length<n;){const D=m?m.page+1:void 0;m=await this.get({...y,page:D}),g.push(...m.results),m.next_page&&await new Promise(p=>setTimeout(p,tt))}return g.slice(0,n)}async getByID(e,t){return await this.getFirst(j(t,U.at("document.id",e)))}async getByIDs(e,t){return await this.get(j(t,U.in("document.id",e)))}async getAllByIDs(e,t){return await this.dangerouslyGetAll(j(t,U.in("document.id",e)))}async getByUID(e,t,n){return await this.getFirst(j(n,[X(e),U.at(`my.${e}.uid`,t)]))}async getByUIDs(e,t,n){return await this.get(j(n,[X(e),U.in(`my.${e}.uid`,t)]))}async getAllByUIDs(e,t,n){return await this.dangerouslyGetAll(j(n,[X(e),U.in(`my.${e}.uid`,t)]))}async getSingle(e,t){return await this.getFirst(j(t,X(e)))}async getByType(e,t){return await this.get(j(t,X(e)))}async getAllByType(e,t){return await this.dangerouslyGetAll(j(t,X(e)))}async getByTag(e,t){return await this.get(j(t,ae(e)))}async getAllByTag(e,t){return await this.dangerouslyGetAll(j(t,ae(e)))}async getByEveryTag(e,t){return await this.get(j(t,we(e)))}async getAllByEveryTag(e,t){return await this.dangerouslyGetAll(j(t,we(e)))}async getBySomeTags(e,t){return await this.get(j(t,ae(e)))}async getAllBySomeTags(e,t){return await this.dangerouslyGetAll(j(t,ae(e)))}async getRepository(e){const t=new URL(this.endpoint);return this.accessToken&&t.searchParams.set("access_token",this.accessToken),await this.fetch(t.toString(),e)}async getRefs(e){return(await this.getRepository(e)).refs}async getRefByID(e,t){const n=await this.getRefs(t);return le(n,e)}async getRefByLabel(e,t){const n=await this.getRefs(t);return de(n,e)}async getMasterRef(e){const t=await this.getRefs(e);return be(t)}async getReleases(e){return(await this.getRefs(e)).filter(n=>!n.isMasterRef)}async getReleaseByID(e,t){const n=await this.getReleases(t);return le(n,e)}async getReleaseByLabel(e,t){const n=await this.getReleases(t);return de(n,e)}async getTags(e){try{const t=await this.getCachedRepositoryForm("tags",e),n=new URL(t.action);return this.accessToken&&n.searchParams.set("access_token",this.accessToken),await this.fetch(n.toString(),e)}catch{return(await this.getRepository(e)).tags}}async buildQueryURL({signal:e,fetchOptions:t,...n}={}){const d=n.ref||await this.getResolvedRefString({signal:e,fetchOptions:t}),y=n.integrationFieldsRef||(await this.getCachedRepository({signal:e,fetchOptions:t})).integrationFieldsRef||void 0;return We(this.endpoint,{...this.defaultParams,...n,ref:d,integrationFieldsRef:y,routes:n.routes||this.routes,brokenRoute:n.brokenRoute||this.brokenRoute,accessToken:n.accessToken||this.accessToken})}async resolvePreviewURL(e){var t,n;let d=e.documentID,y=e.previewToken;if(typeof globalThis.location<"u"){const g=new URLSearchParams(globalThis.location.search);d=d||g.get("documentId"),y=y||g.get("token")}else if(this.refState.httpRequest){if("query"in this.refState.httpRequest)d=d||((t=this.refState.httpRequest.query)==null?void 0:t.documentId),y=y||((n=this.refState.httpRequest.query)==null?void 0:n.token);else if("url"in this.refState.httpRequest&&this.refState.httpRequest.url){const g=new URL(this.refState.httpRequest.url,"missing-host://").searchParams;d=d||g.get("documentId"),y=y||g.get("token")}}if(d!=null&&y!=null){const g=await this.getByID(d,{ref:y,lang:"*",signal:e.signal,fetchOptions:e.fetchOptions}),m=Fe(g,{linkResolver:e.linkResolver});if(typeof m=="string")return m}return e.defaultURL}queryLatestContent(){this.refState.mode=H.Master}queryContentFromReleaseByID(e){this.refState={...this.refState,mode:H.ReleaseID,releaseID:e}}queryContentFromReleaseByLabel(e){this.refState={...this.refState,mode:H.ReleaseLabel,releaseLabel:e}}queryContentFromRef(e){this.refState={...this.refState,mode:H.Manual,ref:e}}async graphQLFetch(e,t){const n=await this.getCachedRepository(),d=await this.getResolvedRefString(),y={"Prismic-ref":d,Authorization:this.accessToken?`Token ${this.accessToken}`:"",...t?t.headers:{}};n.integrationFieldsRef&&(y["Prismic-integration-field-ref"]=n.integrationFieldsRef);const g={};for(const p in y)y[p]&&(g[p.toLowerCase()]=y[p]);const m=new URL(e);m.searchParams.set("ref",d);const D=m.searchParams.get("query");return D&&m.searchParams.set("query",qe(D)),await this.fetchFn(m.toString(),{...t,headers:g})}async getCachedRepository(e){return(!this.cachedRepository||Date.now()>=this.cachedRepositoryExpiration)&&(this.cachedRepositoryExpiration=Date.now()+et,this.cachedRepository=await this.getRepository(e)),this.cachedRepository}async getCachedRepositoryForm(e,t){const d=(await this.getCachedRepository(t)).forms[e];if(!d)throw new Y(`Form with name "${e}" could not be found`,void 0,void 0);return d}async getResolvedRefString(e){var t,n;if(this.refState.autoPreviewsEnabled){let g,m;if((t=this.refState.httpRequest)!=null&&t.headers?"get"in this.refState.httpRequest.headers&&typeof this.refState.httpRequest.headers.get=="function"?m=this.refState.httpRequest.headers.get("cookie"):"cookie"in this.refState.httpRequest.headers&&(m=this.refState.httpRequest.headers.cookie):(n=globalThis.document)!=null&&n.cookie&&(m=globalThis.document.cookie),m&&(g=Ce(m)),g)return g}const d=await this.getCachedRepository(e),y=this.refState.mode;if(y===H.ReleaseID)return le(d.refs,this.refState.releaseID).ref;if(y===H.ReleaseLabel)return de(d.refs,this.refState.releaseLabel).ref;if(y===H.Manual){const g=await Le(this.refState.ref)();if(typeof g=="string")return g}return be(d.refs).ref}async fetch(e,t={}){var n,d,y,g;const m={...this.fetchOptions,...t.fetchOptions,headers:{...(n=this.fetchOptions)==null?void 0:n.headers,...(d=t.fetchOptions)==null?void 0:d.headers},signal:((y=t.fetchOptions)==null?void 0:y.signal)||t.signal||((g=this.fetchOptions)==null?void 0:g.signal)};let D;this.fetchJobs[e]&&this.fetchJobs[e].has(m.signal)?D=this.fetchJobs[e].get(m.signal):(this.fetchJobs[e]=this.fetchJobs[e]||new Map,D=this.fetchFn(e,m).then(async A=>{let T;try{T=await A.json()}catch{}return{status:A.status,headers:A.headers,json:T}}).finally(()=>{this.fetchJobs[e].delete(m.signal),this.fetchJobs[e].size===0&&delete this.fetchJobs[e]}),this.fetchJobs[e].set(m.signal,D));const p=await D;if(p.status!==404&&p.json==null)throw new Y(void 0,e,p.json);switch(p.status){case 200:return p.json;case 400:throw new Be(p.json.message,e,p.json);case 401:case 403:throw new ce(p.json.error||p.json.message,e,p.json);case 404:throw p.json===void 0?new Ye(`Prismic repository not found. Check that "${this.endpoint}" is pointing to the correct repository.`,e,void 0):p.json.type==="api_notfound_error"?new Ue(p.json.message,e,p.json):p.json.type==="api_security_error"&&/preview token.*expired/i.test(p.json.message)?new He(p.json.message,e,p.json):new me(p.json.message,e,p.json);case 410:throw new Ne(p.json.message,e,p.json);case 429:{const A=Number(p.headers.get("retry-after")),T=Number.isNaN(A)?st:A;return await new Promise((q,I)=>{setTimeout(async()=>{try{q(await this.fetch(e,t))}catch(L){I(L)}},T)})}}throw new Y(void 0,e,p.json)}}const it=s=>{if(!s.cookies)return;const e=s.cookies.get(De);e&&/\.prismic\.io/.test(e)&&s.client.queryContentFromRef(e)},ot="mandymozart-dev",at="@slicemachine/adapter-sveltekit",ct=["./src/lib/slices"],ut="http://localhost:5173/slice-simulator",ht={repositoryName:ot,adapter:at,libraries:ct,localSliceSimulatorURL:ut},ft={}.VITE_PRISMIC_ENVIRONMENT||ht.repositoryName,lt=[{type:"page",uid:"home",path:"/"},{type:"page",path:"/:uid"}],$t=({cookies:s,...e}={})=>{const t=nt(ft,{routes:lt,...e});return it({client:t,cookies:s}),t};export{Y as P,vt as T,$t as c,Pe as d,U as f,Ge as i,wt as n,ft as r,yt as u};
