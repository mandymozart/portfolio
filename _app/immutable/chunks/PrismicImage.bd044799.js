import{s as H,n as j,C,B as A,D as K,u as V}from"./scheduler.8bb7bc18.js";import{S as q,i as F,e as L,a as U,f as x,g as O,h as R,K as T}from"./index.c2b7bcee.js";import"./index.4ed993c7.js";function B(t,i){const e={},s={},r={$$scope:1};let n=t.length;for(;n--;){const c=t[n],l=i[n];if(l){for(const a in c)a in l||(s[a]=1);for(const a in l)r[a]||(e[a]=l[a],r[a]=1);t[n]=l}else for(const a in c)r[a]=1}for(const c in s)c in e||(e[c]=void 0);return e}const I=t=>t!=null,d=t=>I(t)&&!!t.url,ee=t=>I(t)&&("id"in t||"url"in t),te=t=>I(t)&&!!t.embed_url,G=t=>t.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`),b=(t,i)=>{const e=new URL(t);for(const r in i){const n=G(r),c=i[r];c===void 0?e.searchParams.delete(n):Array.isArray(c)?e.searchParams.set(n,c.join(",")):e.searchParams.set(n,`${c}`)}const s=e.searchParams.get("s");return s&&(e.searchParams.delete("s"),e.searchParams.append("s",s)),e.toString()},M=(t,{pixelDensities:i,...e})=>i.map(s=>`${b(t,{...e,dpr:s})} ${s}x`).join(", "),y=(t,{widths:i,...e})=>i.map(s=>`${b(t,{...e,w:void 0,width:s})} ${s}w`).join(", "),E=[640,828,1200,2048,3840],X=(t,i={})=>{if(t&&d(t)){let{widths:e=E,...s}=i;const{url:r,dimensions:n,id:c,alt:l,copyright:a,edit:g,...f}=t,h=Object.values(f);return e==="thumbnails"&&h.length<1&&(e=E),{src:b(r,s),srcset:e==="thumbnails"?[y(r,{...s,widths:[n.width]}),...h.map(m=>y(m.url,{...s,widths:[m.dimensions.width]}))].join(", "):y(t.url,{...s,widths:e})}}else return null},Z=[1,2,3],z=(t,i={})=>{if(t&&d(t)){const{pixelDensities:e=Z,...s}=i;return{src:b(t.url,s),srcset:M(t.url,{...s,pixelDensities:e})}}else return null};function W(t){let i,e,s,r,n=[{src:e=t[3]},{srcset:s=t[4]},{alt:r=t[1]??(t[0].alt||t[2])},{width:t[5]},{height:t[6]},t[7]],c={};for(let l=0;l<n.length;l+=1)c=A(c,n[l]);return{c(){i=O("img"),this.h()},l(l){i=R(l,"IMG",{src:!0,srcset:!0,alt:!0,width:!0,height:!0}),this.h()},h(){T(i,c)},m(l,a){U(l,i,a)},p(l,a){T(i,c=B(n,[a&8&&!V(i.src,e=l[3])&&{src:e},a&16&&s!==(s=l[4])&&{srcset:s},a&7&&r!==(r=l[1]??(l[0].alt||l[2]))&&{alt:r},a&32&&{width:l[5]},a&64&&{height:l[6]},a&128&&l[7]]))},d(l){l&&x(i)}}}function J(t){let i=d(t[0]),e,s=i&&W(t);return{c(){s&&s.c(),e=L()},l(r){s&&s.l(r),e=L()},m(r,n){s&&s.m(r,n),U(r,e,n)},p(r,[n]){n&1&&(i=d(r[0])),i?s?s.p(r,n):(s=W(r),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:j,o:j,d(r){r&&x(e),s&&s.d(r)}}}function Q(t,i,e){const s=["field","imgixParams","alt","fallbackAlt","width","height","widths","pixelDensities"];let r=C(i,s),{field:n}=i,{imgixParams:c={}}=i,{alt:l=void 0}=i,{fallbackAlt:a=void 0}=i,{width:g=void 0}=i,{height:f=void 0}=i,{widths:h=void 0}=i,{pixelDensities:m=void 0}=i,D,S,k,w;return t.$$set=o=>{i=A(A({},i),K(o)),e(7,r=C(i,s)),"field"in o&&e(0,n=o.field),"imgixParams"in o&&e(8,c=o.imgixParams),"alt"in o&&e(1,l=o.alt),"fallbackAlt"in o&&e(2,a=o.fallbackAlt),"width"in o&&e(9,g=o.width),"height"in o&&e(10,f=o.height),"widths"in o&&e(11,h=o.widths),"pixelDensities"in o&&e(12,m=o.pixelDensities)},t.$$.update=()=>{if(t.$$.dirty&7937&&d(n)){const o=u=>{if(typeof u=="number"||typeof u>"u"||u===null)return u;{const v=Number.parseInt(u);return Number.isNaN(v)?void 0:v}},N=n.dimensions.width/n.dimensions.height,_=o(g),P=o(f);if(e(5,k=_??n.dimensions.width),e(6,w=P??n.dimensions.height),_!=null&&P==null?e(6,w=_/N):_==null&&P!=null&&e(5,k=P*N),h||!m){const u=X(n,{...c,widths:h==="defaults"?void 0:h});e(3,D=u.src),e(4,S=u.srcset)}else if(m){const u=z(n,{...c,pixelDensities:m==="defaults"?void 0:m});e(3,D=u.src),e(4,S=u.srcset)}}},[n,l,a,D,S,k,w,r,c,g,f,h,m]}class se extends q{constructor(i){super(),F(this,i,Q,J,H,{field:0,imgixParams:8,alt:1,fallbackAlt:2,width:9,height:10,widths:11,pixelDensities:12})}}export{se as P,te as e,B as g,ee as l};
