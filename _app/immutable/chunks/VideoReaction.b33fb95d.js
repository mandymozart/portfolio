import{s as S,u as y,c as T,b as q}from"./scheduler.8bb7bc18.js";import{S as B,i as U,g as p,s as j,h as m,j as k,f as _,c as A,k as f,z as g,a as b,x as R,E as F,d as E,p as K,t as P,b as N,F as I,m as D,n as O}from"./index.c2b7bcee.js";import{b as h}from"./paths.9cd5e76e.js";import{f as w}from"./index.ac0aa46b.js";function C(o){let e,t,i,l,c,u,s;return{c(){e=p("video"),t=p("source"),l=p("track"),this.h()},l(n){e=m(n,"VIDEO",{class:!0});var a=k(e);t=m(a,"SOURCE",{src:!0,type:!0}),l=m(a,"TRACK",{kind:!0,srclang:!0,src:!0}),a.forEach(_),this.h()},h(){y(t.src,i=h+"/videos/"+o[0]+".webm")||f(t,"src",i),f(t,"type","video/webm"),l.default=!0,f(l,"kind","captions"),f(l,"srclang","en"),y(l.src,c=h+"/videos/"+o[0]+".vtt")||f(l,"src",c),e.loop=!0,e.playsInline=!0,f(e,"class","svelte-2v9yzx"),g(e,"playing",o[2])},m(n,a){b(n,e,a),R(e,t),R(e,l),o[4](e),s=!0},p(n,a){(!s||a&1&&!y(t.src,i=h+"/videos/"+n[0]+".webm"))&&f(t,"src",i),(!s||a&1&&!y(l.src,c=h+"/videos/"+n[0]+".vtt"))&&f(l,"src",c),(!s||a&4)&&g(e,"playing",n[2])},i(n){s||(n&&T(()=>{s&&(u||(u=I(e,w,{delay:250,duration:300},!0)),u.run(1))}),s=!0)},o(n){n&&(u||(u=I(e,w,{delay:250,duration:300},!1)),u.run(0)),s=!1},d(n){n&&_(e),o[4](null),n&&u&&u.end()}}}function G(o){let e;return{c(){e=D("Play Reaction")},l(t){e=O(t,"Play Reaction")},m(t,i){b(t,e,i)},d(t){t&&_(e)}}}function H(o){let e;return{c(){e=D("Pause")},l(t){e=O(t,"Pause")},m(t,i){b(t,e,i)},d(t){t&&_(e)}}}function J(o){let e,t,i,l,c,u,s=o[0]&&C(o);function n(r,d){return r[2]?H:G}let a=n(o),v=a(o);return{c(){e=p("div"),s&&s.c(),t=j(),i=p("div"),l=p("button"),v.c(),this.h()},l(r){e=m(r,"DIV",{class:!0});var d=k(e);s&&s.l(d),d.forEach(_),t=A(r),i=m(r,"DIV",{id:!0,class:!0});var V=k(i);l=m(V,"BUTTON",{id:!0,class:!0});var z=k(l);v.l(z),z.forEach(_),V.forEach(_),this.h()},h(){f(e,"class","stage svelte-2v9yzx"),f(l,"id","startButton"),f(l,"class","svelte-2v9yzx"),f(i,"id","overlay"),f(i,"class","svelte-2v9yzx"),g(i,"playing",o[2])},m(r,d){b(r,e,d),s&&s.m(e,null),b(r,t,d),b(r,i,d),R(i,l),v.m(l,null),c||(u=F(l,"click",o[5]),c=!0)},p(r,[d]){r[0]?s?(s.p(r,d),d&1&&E(s,1)):(s=C(r),s.c(),E(s,1),s.m(e,null)):s&&(K(),P(s,1,1,()=>{s=null}),N()),a!==(a=n(r))&&(v.d(1),v=a(r),v&&(v.c(),v.m(l,null))),d&4&&g(i,"playing",r[2])},i(r){E(s)},o(r){P(s)},d(r){r&&(_(e),_(t),_(i)),s&&s.d(),v.d(),c=!1,u()}}}function L(o,e,t){let i,{videoid:l}=e,c;const u=()=>{i?(c.pause(),t(2,i=!1)):(c.play(),t(2,i=!0))};function s(a){q[a?"unshift":"push"](()=>{c=a,t(1,c)})}const n=()=>u();return o.$$set=a=>{"videoid"in a&&t(0,l=a.videoid)},t(2,i=!1),[l,c,i,u,s,n]}class Y extends B{constructor(e){super(),U(this,e,L,J,S,{videoid:0})}}export{Y as V};
